{% extends 'comm-base.html' %} {% load static %} {% block community_content %}

<div class="content-card content-card-space white-bg">
    <div>
        <small><a class="darkteal-text" href="{% url 'community-projects' community.id %}">Projects</a> <span class="grey-text"> >> Create New Project</span></small>
    </div>

    <form method="POST" action="">
        {% csrf_token %}
    <div>
        <h2 class="orange-text weight-700">Create a project</h2>
    </div>

    <div class="bottom-dashed">
        <label class="darkteal-text"> What are you applying the Labels to?*</label><br>
        {{ form.project_type }}
    </div>

    <div>
        <div>
        <label class="darkteal-text">Project Title*</label><br>
            {{ form.title }}
        </div>
        <div>
            <label class="darkteal-text">Publication Date</label><br>
            {{ form.publication_date }}
        </div>
        <div>
            <label class="darkteal-text">Project Description*</label><br>
            {{ form.description }}
        </div>

        <div>
            <label class="darkteal-text">Project Contact Name*</label><br>
            {{ form.project_contact }}
        </div>
        <div>
            <label class="darkteal-text">Project Contact Email*</label><br>
            {{ form.project_contact_email }}
        </div>
        <div>
            <label class="darkteal-text">Project URL</label><br>
            {{ form.url }}
        </div>


    </div>

    <div>

        <div>
            <h4 class="weight-500">Apply your custom Labels to this project</h4>
        </div>
    
        <div>
            <span class="weight-500 darkteal-text">1. Select a Label</span><br>
            <div class="flex-this">
    
            {% if bclabels %}
                {% for bclabel in bclabels %}
    
                    <div class="w-20 wrap center-text">
                        <div>
                            <input id="checked-label-{{ bclabel.id }}" onclick="displayDefaultText(this)" value="{{ bclabel.id }}" type="checkbox" name="checked-labels">
                        </div>
                        {% include 'bclabels/which-label.html' %}
                        <span id="label-name-{{ bclabel.id }}" class="grey-text">{{ bclabel.name }}</span>
                    </div>
    
                {% endfor %}
            {% endif %}

            <div id="grey-border-div" class="center-text">
                <a href="{% url 'select-label' community.id %}">
                    <span class="grey-text auto-margin">+ Customise a <br>new Label</span>
                </a>
            </div>
    
            </div>
    
            <p class="weight-500 darkteal-text">2. View Label Description</p>

            {% if bclabels %}
                {% for bclabel in bclabels %}
                    <div id="open-default-text-{{ bclabel.id }}" style="height: 0; overflow: hidden;" class="flex-this">

                        <div class="small-label">
                            {% include 'bclabels/which-label.html' %}
                        </div>
                        <div class="pad-left-2">
                            <p class="darkteal-text no-top-margin">Label shared by {{ bclabel.community.community_name }} </p>
                            <p class="weight-500"> {{ bclabel.name }} </p>
                            <p>
                                {{ bclabel.default_text}}
                            </p>
                            <hr>
                        </div>

                    </div>
                {% endfor %}
            {% endif %}
    
        </div>
    
        <div>
            {{ form.errors }}
            <button class="action-btn">Apply Labels</button>
        </div>

    </div>
    </form>
</div>

{% endblock %}