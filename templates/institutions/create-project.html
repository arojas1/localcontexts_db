{% extends 'institution-base.html' %} {% block title %} | Create Project {% endblock %}{% load static %}{% block institution_content %}

<div class="white-bg content-card content-card-space noti-card">
    
        <p><a href="{% url 'institution-projects' institution.id %}"><span class="darkteal-text">Projects</span></a> <span>>> Create New Project</span></p>

        <div>
            <h3 class="orange-text">Create a Project</h3>
            <p>A project is the item or sample your entity would like to apply a notice to.</p>

            <form method="POST" action="" id="createProjectForm">
                {% csrf_token %}

                <div class="border-bottom-dash-teal padding-bottom-1">
                    <label>What are you applying the Notice to?</label><br>
                    {{ form.project_type }} <br>
                </div>

                <p class="weight-500">Project Details</p>
                <p>
                    The information provided here will be shared to other entities your institution chooses to share with.<br>
                    Please try to keep this section as informative as you can.
                </p>
                <div class="padding-bottom-1">
                    <label>Project Title*</label><br>
                    {{ form.title }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Project or Publication Date</label><br>
                    {{ form.publication_date }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Project Description*</label><br>
                    {{ form.description }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Project Contact Name* </label><br>
                    {{ form.project_contact }} <br>
                </div>


                <div class="padding-bottom-1">
                    <label>Project Contact Email*</label><br>
                    {{ form.project_contact_email }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Recommended Citation</label><br>
                    {{ form.recommended_citation }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Project URL</label><br>
                    {{ form.url }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label for="contributors">Project Contributors</label><br>
                    <input id="contributor-input" list="contributors" name="contributors" placeholder="Example: John Doe (Researcher)">
                    <datalist id="contributors">
                        {% if all_researchers %}
                            {% for researcher in all_researchers %}
                                <option value="{{ researcher.user.get_full_name }} (Researcher)" data-resid="{{ researcher.id }}">
                            {% endfor %}
                        {% endif %}
                        {% if all_institutions %}
                            {% for institution in all_institutions %}
                                <option value="{{ institution.institution_name }} (Institution)" data-instid="{{ institution.id }}">
                            {% endfor %}
                        {% endif %}
                    </datalist>
                    <a id="add-contributor-btn" class="pointer">Add</a>
                </div>

                <p class="weight-500">Selected Contributors</p>
                {% for researcher in all_researchers %}
                    <div id="selected-researcher-{{ researcher.id }}" style="height: 0px; overflow: hidden;">
                        <div class="selected-community flex-this row space-between">
                            <div>
                                <p class="center-name">{{ researcher.user.get_full_name }}</p>
                            </div>
                            <div>
                                <p id="close-res-{{ researcher.id }}" class="close-x darkteal-text pointer" onclick="cancelResearcherSelection(this)">&times;</p>
                            </div>
                        </div>
                    </div>
                    <div id="res-id-input-{{ researcher.id }}" style="display: none;"></div>
                {% endfor %}

                {% for institution in all_institutions %}
                    <div id="selected-institution-{{ institution.id }}" style="height: 0px; overflow: hidden;">
                        <div class="selected-community flex-this row space-between">
                            <div>
                                <p class="center-name">{{ institution.institution_name }}</p>
                            </div>
                            <div>
                                <p id="close-inst-{{ institution.id }}" class="close-x darkteal-text pointer" onclick="cancelInstitutionSelection(this)">&times;</p>
                            </div>
                        </div>
                    </div>
                    <div id="inst-id-input-{{ institution.id }}" style="display: none;"></div>
                {% endfor %}

                <p class="weight-500">Project Metadata</p>
                <p>
                    The project metadata is the key information of how to access data relevant to the project. This will only be shown internally.
                </p>

                <div class="padding-bottom-1">
                    <label>Project Data GUID</label><br>
                    {{ form.project_data_guid }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>Project DOI</label><br>
                    {{ form.publication_doi }} <br>
                </div>

                <div class="padding-bottom-1">
                    <label>GEOME Project ID</label><br>
                    {{ form.geome_project_id }} <br>
                </div>


                <p class="weight-500">Apply Notices</p>
                <p>Select Notice(s)</p><br>

                <div class="flex-this">
                    
                    <div class="flex-this column center-text">
                        <div>
                            <input id="tk-notice" onclick="showDescription()" value="tknotice" type="checkbox" name="checkbox-notice">
                        </div>
                        <div>
                            <img src="{% static 'images/notices/tk-notice.png' %}" alt="black square with white letters TK in the middle">
                        </div>
                        <div>
                            <p class="grey-text">Traditional<br> Knowledge<br> Notice</p>
                        </div>
                    </div>
    
                    <div class="flex-this column center-text pad-left-1-5">
                        <div>
                            <input id="bc-notice" onclick="showDescription()" value="bcnotice" type="checkbox" name="checkbox-notice">
                        </div>
                        <div>
                            <img src="{% static 'images/notices/bc-notice.png' %}" alt="black square with white letters BC in the middle">
                        </div>
                        <div>
                            <p class="grey-text">Biocultural<br> Notice</p>
                        </div>
                    </div>

                </div>


                <p>Notice Description</p>

                <div id="show-notice-description-tk" style="display: none;">
                    <div class="flex-this border-top-solid-teal border-bottom-solid-teal">
                        <div class="w-15 pad-top-1">
                            <img src="{% static 'images/notices/tk-notice.png' %}" alt="black square with white letters TK in the middle">
                        </div>
    
                        <div class="w-80 pad-top-1">
                            <h3 class="weight-500 no-top-margin">Traditional Knowledge Notice</h3>
                            <p>
                                The TK Notice is a visible notification that there are accompanying cultural rights and responsibilities that need further attention for any future sharing and use of this material. The TK Notice may indicate that TK Labels are in development and their implementation is being negotiated. <br> For more information about the TK Notices click <a href="https://localcontexts.org/notice/tk-notice/" target="_blank"><span class="darkteal-text">here</span></a>.
                            </p>
                        </div>
                    </div>
                </div>

                <div id="show-notice-description-bc" style="display: none;">
                    <div class="flex-this border-top-solid-teal border-bottom-solid-teal">
                        <div class="w-15 pad-top-1">
                            <img src="{% static 'images/notices/bc-notice.png' %}" alt="black square with white letters BC in the middle">
                        </div>
    
                        <div class="w-80 pad-top-1">
                            <h3 class="weight-500 no-top-margin">Biocultural Notice</h3>
                            <p>
                                The BC Notice is a visible notification that there are accompanying cultural rights and responsibilities that need further attention for any future sharing and use of this material or data. The BC Notice recognizes the rights of Indigenous peoples to permission the use of information, collections, data and digital sequence information generated from the biodiversity or genetic resources associated with traditional lands, waters, and territories. The BC Notice may indicate that BC (Biocultural) Labels are in development and their implementation is being negotiated. <br> For more information about the BC Notices click <a href="https://localcontexts.org/notice/bc-notice/" target="_blank"><span class="darkteal-text">here</span></a>.
                            </p>
                        </div>
                    </div>
                </div>


                {{ form.errors }}
                <button class="action-btn">Save Project</button>

            </form>
        </div>

</div>

{% endblock %}